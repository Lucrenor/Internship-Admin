<div class="main-container">
    <div class="info-container">
        <div class="info-header">
            <h1>Aday Bilgileri</h1>
        </div>
        <div class="info-box">
            <p-table [value]="data">
                <ng-template pTemplate="header">
                    <tr>
                        <th class="info-topic-heading" style="width: 20%;">İsim Soyisim</th>
                        <th class="info-topic-heading" style="width: 40%;">İletişim Bilgileri</th>
                        <th class="info-topic-heading" style="width: 20%;">CV Dosyası</th>
                        <th class="info-topic-heading" style="width: 20%;">Bilgiler</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item>
                    <tr>
                        <td class="info-parameter" style="width: 20%;">{{ item.name }}</td>
                        <td class="info-parameter" style="width: 40%;">{{ item.mail }}<br>{{ item.tel_no }}</td>
                        <td style="width: 20%;"><button class="pi pi-link cv-button" (click)="goToCv(item.cvname)"></button></td>
                        <td style="width: 20%;">
                            <button class="pi pi-info-circle info-button" (click)="showAllInfo(item)"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>

<ng-template [ngIf]="selectedItem">
    <div class="popup">
        <div class="popup-content">
            <span class="close" (click)="closePopup()">&times;</span>
            <div class="bilgiler-container">
                <div class="bilgiler-column">
                    <div class="info-section">
                        <h2>Üniversite</h2>
                        <p> {{ selectedItem.uni }}</p>
                        <h2>Bölüm</h2>
                        <p>{{ selectedItem.degree }}</p>
                        <h2>Dönem</h2>
                        <p>{{ selectedItem.year }}</p>
                    </div>
                    <div class="info-section">
                        <h2>Staj Tarihi</h2>
                        <div class="bilgiler" [innerHTML]="selectedItem.start_date"></div>
                    </div>
                    <div class="info-section">
                        <button class="pi pi-linkedin linkedin-button" (click)="goToLinkedin(selectedItem.linkedin)"></button>
                        <button class="pi pi-github github-button" (click)="goToGithub(selectedItem.github)"></button>
                    </div>
                </div>
                <div class="bilgiler-column">
                    <h2>Bilinen Diller</h2>
                    <div *ngFor="let lang of selectedItem.prog_lan" class="prog-lan-item">{{ lang }}</div>
                </div>
                <div class="bilgiler-column">
                    <h2>Departman Tercihi</h2>
                    <div *ngFor="let dept of selectedItem.intern_type" class="intern-type-item">{{ dept }}</div>
                </div>
            </div>
        </div>
    </div>
</ng-template>